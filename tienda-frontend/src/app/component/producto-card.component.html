<div class="producto-card" (click)="onVerDetalle()">
  <div class="producto-imagen">
    <img 
      [src]="producto.imagen || 'assets/placeholder-image.png'" 
      [alt]="producto.nombre"
      (error)="onImageError($event)"
      loading="lazy"
    />
  </div>
  <div class="producto-info">
    <h3 class="producto-nombre">{{ producto.nombre }}</h3>
    <p class="producto-descripcion">{{ producto.descripcion }}</p>
    <p class="producto-precio">${{ producto.precio | number:'1.2-2' }}</p>
    <p class="producto-stock">Stock: {{ producto.stock }}</p>
    <p class="producto-id">ID: {{ producto.id }}</p>
    <div class="botones-accion" (click)="$event.stopPropagation()">
      <button class="btn-ver" (click)="onVerDetalle()" type="button">
        👁️ Ver
      </button>
      
      @if (showAdminActions) {
        <button class="btn-editar" (click)="onEditar()" type="button">
          ✏️ Editar
        </button>
        <button class="btn-eliminar" (click)="onEliminar()" type="button">
          🗑️ Eliminar
        </button>
      } @else {
        @if (isInCart) {
          <button class="btn-remove-cart" (click)="onRemoveFromCart()" type="button">
            🛒 En carrito
          </button>
        } @else {
          <button class="btn-add-cart" (click)="onAddToCart()" type="button">
            🛒 Agregar
          </button>
        }
      }
    </div>
  </div>
</div>
